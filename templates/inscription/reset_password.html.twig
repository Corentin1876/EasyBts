{% extends 'base.html.twig' %}

{% block title %}Réinitialiser le mot de passe - Inscription BTS{% endblock %}

{% block body %}
<!-- Messages flash -->
{% for message in app.flashes('error') %}
    <div class="fr-container fr-mt-2v">
        <div class="fr-alert fr-alert--error">
            <p>{{ message }}</p>
        </div>
    </div>
{% endfor %}

<!-- Fil d'ariane -->
<nav class="fr-breadcrumb" aria-label="vous êtes ici :">
    <button class="fr-breadcrumb__button" aria-expanded="false" aria-controls="breadcrumb-reset">Voir le fil d'Ariane</button>
    <div class="fr-collapse" id="breadcrumb-reset">
        <ol class="fr-breadcrumb__list">
            <li>
                <a class="fr-breadcrumb__link" href="{{ path('app_home') }}">Accueil</a>
            </li>
            <li>
                <a class="fr-breadcrumb__link" href="{{ path('app_inscription') }}">Inscription</a>
            </li>
            <li>
                <a class="fr-breadcrumb__link" aria-current="page">Nouveau mot de passe</a>
            </li>
        </ol>
    </div>
</nav>

<!-- Formulaire de nouveau mot de passe -->
<section class="fr-container fr-py-6v">
    <div class="fr-grid-row fr-grid-row--center">
        <div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
            <div class="fr-card fr-card--no-arrow">
                <div class="fr-card__body">
                    <div class="fr-card__content">
                        <h1 class="fr-h2">Définir un nouveau mot de passe</h1>
                        <p class="fr-text--lead fr-mb-4v">
                            Saisissez votre nouveau mot de passe.
                        </p>
                        <hr class="fr-hr fr-mb-4v">

                        <form class="fr-form" method="post" action="{{ path('app_reset_password_update') }}">
                            <input type="hidden" name="token" value="{{ token }}">

                            <div class="fr-input-group">
                                <label class="fr-label" for="password">
                                    Nouveau mot de passe
                                    <span class="fr-hint-text">Minimum 8 caractères avec au moins une majuscule, une minuscule et un chiffre</span>
                                </label>
                                <input class="fr-input" type="password" id="password" name="password" required minlength="8">
                            </div>

                            <div class="fr-input-group">
                                <label class="fr-label" for="password-confirm">
                                    Confirmer le mot de passe
                                </label>
                                <input class="fr-input" type="password" id="password-confirm" name="password_confirm" required minlength="8">
                            </div>

                            <div class="fr-btns-group">
                                <button class="fr-btn" type="submit">
                                    Réinitialiser le mot de passe
                                </button>
                                <a class="fr-btn fr-btn--secondary" href="{{ path('app_inscription') }}">
                                    Annuler
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
