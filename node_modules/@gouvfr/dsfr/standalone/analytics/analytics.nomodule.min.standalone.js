/*! DSFR v1.14.0 | SPDX-License-Identifier: MIT | License-Filename: LICENSE.md | restricted use (see terms and conditions) */
!function(){"use strict";var t="fr",e="dsfr",i=function(e){return t+"-"+e};i.selector=function(t,e){return void 0===e&&(e="."),""+e+i(t)},(i.attr=function(t){return"data-"+i(t)}).selector=function(t,e){var n=i.attr(t);return void 0!==e&&(n+='="'+e+'"'),"["+n+"]"},i.event=function(t){return e+"."+t},i.emission=function(t,e){return"emission:"+t+"."+e};var n={AUTO:"auto",MANUAL:"manual",RUNTIME:"runtime",LOADED:"loaded",VUE:"vue",ANGULAR:"angular",REACT:"react"},s={},r=function(t){return!0!==s.internals.configuration.production&&(t>1||s.internals.configuration.verbose)};s.inspector={log:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r(0)?console.log.apply(console,t):null},debug:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r(1)?console.debug.apply(console,t):null},info:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r(2)?console.info.apply(console,t):null},warn:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r(3)?console.warn.apply(console,t):null},error:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return r(4)?console.error.apply(console,t):null}};var o=window[e];s.internals={ns:i,configuration:o},s.Modes=n,s.mode=o.mode||n.AUTO,window[e]=s;var a=window[e],u="a4e35ba2a938ba9d007689dbf3f46acbb9807869",c={MANUAL:"manual",LOAD:"load",FULL:"full",HASH:"hash"},l="_EA_",h=l+"disabled",f=l+"toggle",g=function(){this._configure()},p={isDisabled:{configurable:!0}};g.prototype._configure=function(){var t=this;window[h]=function(){return t.isDisabled},window[f]=this.toggle.bind(this)},p.isDisabled.get=function(){return localStorage.getItem(l)},g.prototype.toggle=function(){this.isDisabled?this.enable():this.disable()},g.prototype.enable=function(){localStorage.getItem(l)&&localStorage.removeItem(l)},g.prototype.disable=function(){localStorage.setItem(l,"1")},Object.defineProperties(g.prototype,p);var d=new g,_="EA_push",m=function(t){var e=this;this._domain=t,this._isLoaded=!1,this._promise=new Promise(function(t,i){e._resolve=t,e._reject=i})},v={id:{configurable:!0},store:{configurable:!0}};v.id.get=function(){return this._id},v.store.get=function(){return this._store},m.prototype.configure=function(){return this.init(),this._promise},m.prototype.init=function(){for(var t=this,e=5381,i=this._domain.length-1;i>0;i--)e=33*e^this._domain.charCodeAt(i);e>>>=0,this._id="_EA_"+e,this._store=[],this._store.eah=this._domain,window[this._id]=this._store,window[_]||(window[_]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return t.store.push(e)}),d.isDisabled?(a.inspector.warn("User opted out, eulerian is disabled"),this._reject("User opted out, eulerian is disabled")):this.load()},m.prototype.load=function(){var t=new Date/1e7|0,e=t%26,i=String.fromCharCode(97+e,122-e,65+e)+t%1e3;this._script=document.createElement("script"),this._script.ea=this.id,this._script.async=!0,this._script.addEventListener("load",this.loaded.bind(this)),this._script.addEventListener("error",this.error.bind(this)),this._script.src="//"+this._domain+"/"+i+".js?2";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(this._script,n)},m.prototype.error=function(){a.inspector.error("unable to load Eulerian script file. the domain declared in your configuration must match the domain provided by the Eulerian interface (tag creation)"),this._reject("eulerian script loading error")},m.prototype.loaded=function(){this._isLoaded||(this._isLoaded=!0,this._resolve())},Object.defineProperties(m.prototype,v);var b=-1,y=0,E=1,w=2,A=3,N=function(t){var e=this;this._config=t,this._state=b,this._promise=new Promise(function(t,i){e._resolve=t,e._reject=i})};N.prototype.configure=function(){if(this._state>=E)return this._promise;this._state===b&&(a.inspector.info("analytics configures tarteaucitron"),this._state=y);var t=window.tarteaucitron;if(t&&t.services){this._state=E;var e={key:"eulerian",type:"analytic",name:"Eulerian Analytics",needConsent:!0,cookies:["etuix"],uri:"https://eulerian.com/vie-privee",js:this.init.bind(this),fallback:function(){t.services.eulerian.js()}};return t.services.eulerian=e,t.job||(t.job=[]),t.job.push("eulerian"),this._promise}window.requestAnimationFrame(this.configure.bind(this))},N.prototype.init=function(){if(!(this._state>=w)){this._state=w,window.__eaGenericCmpApi=this.integrate.bind(this);var t=this.update.bind(this);window.addEventListener("tac.close_alert",t),window.addEventListener("tac.close_panel",t)}},N.prototype.integrate=function(t){this._state>=A||(this._state=A,this._cmpApi=t,a.inspector.info("analytics has integrated tarteaucitron"),this._resolve(),this.update())},N.prototype.update=function(){this._state<A||this._cmpApi("tac",window.tarteaucitron,1)};var O=function(t){if(this._config=t,t&&"tarteaucitron"===t.id)this.integrateTarteAuCitron()};O.prototype.integrateTarteAuCitron=function(){return this._tac=new N(this._config),this._tac.configure()},O.prototype.optin=function(){};var L=function(t,e){"function"==typeof window.EA_push?(a.inspector.info("analytics",t,e),window.EA_push(t,e)):a.inspector.warn("Analytics datalayer not sent, Eulerian API isn't yet avalaible")},C={COLLECTOR:"collector",ACTION:"action",ACTION_PARAMETER:"actionparam"},j=function(){this._renderables=[],this._rendering=this.render.bind(this),requestAnimationFrame(this._rendering)};j.prototype.add=function(t){-1===this._renderables.indexOf(t)&&this._renderables.push(t)},j.prototype.remove=function(t){var e=this._renderables.indexOf(t);e>-1&&this._renderables.splice(e,1)},j.prototype.render=function(){this._renderables.forEach(function(t){return t.render()}),requestAnimationFrame(this._rendering)};var D=new j,T={ENFORCE:"enforce",PREVENT:"prevent",NONE:"none"},R=function(){this._startingActions=[],this._endingActions=[],this._handlingVisibilityChange=this._handleVisibilityChange.bind(this),this._handlingEnd=this._handleEnd.bind(this),this._isStarted=!1,this._isListening=!1,this.reset()};R.prototype.setCollector=function(t){this._collector=t},R.prototype.reset=function(t){void 0===t&&(t=!1),this._type=C.ACTION,t||(this._startingActions.length=0),this._endingActions.length=0,this._count=0,this._delay=-1,this._isRequested=!1,this._unlisten()},R.prototype.start=function(){this._isStarted||(this._isStarted=!0,D.add(this))},R.prototype.collect=function(){this._type=C.COLLECTOR,this._request()},R.prototype.regulate=function(t,e){if(!t)return!1;if(e.some(function(e){return e.test(t)}))return a.inspector.log("action exists in queue",t),!1;switch(t.regulation){case T.PREVENT:return!1;case T.ENFORCE:return!0;default:return!0===this._collector.isActionEnabled}},R.prototype.appendStartingAction=function(t,e){if(this.regulate(t,this._startingActions)){var i=new S(t,e);this._startingActions.push(i),this._request()}},R.prototype.appendEndingAction=function(t,e){if(this.regulate(t,this._endingActions)){var i=new S(t,e);this._endingActions.push(i),this._request()}},R.prototype._request=function(){this._listen(),this._isRequested=!0,this._delay=4},R.prototype._listen=function(){this._isListening||(this._isListening=!0,document.addEventListener("visibilitychange",this._handlingVisibilityChange),document.addEventListener("unload",this._handlingEnd),document.addEventListener("beforeunload",this._handlingEnd),document.addEventListener("pagehide",this._handlingEnd))},R.prototype._unlisten=function(){this._isListening&&(this._isListening=!1,document.removeEventListener("visibilitychange",this._handlingVisibilityChange),document.removeEventListener("unload",this._handlingEnd),document.removeEventListener("beforeunload",this._handlingEnd),document.removeEventListener("pagehide",this._handlingEnd))},R.prototype._handleVisibilityChange=function(t){"hidden"===document.visibilityState&&this.send()},R.prototype._handleEnd=function(){this.send()},R.prototype.render=function(){if(!(this._delay<=-1))switch(this._delay--,this._count++,!0){case this._count>20:case 0===this._delay:this.send()}},R.prototype.send=function(t){if(void 0===t&&(t=!1),this._isRequested){var e=[];t||e.push.apply(e,this._startingActions.map(function(t){return t.start()}).filter(function(t){return t.length>0})),e.push.apply(e,this._endingActions.map(function(t){return t.end()}).filter(function(t){return t.length>0}));for(var i=e.length/80+1|0,n=[],s=0;s<i;s++){var r=e.slice(80*s,80*(s+1));n.push(r.flat())}if(this._type===C.COLLECTOR&&this._collector.isCollecting){var o=this._collector.layer;if(n.length>0){var a=n.splice(0,1)[0];a.length>0&&o.push.apply(o,a)}o.flat(),o.length>0&&L(C.COLLECTOR,o)}if(n.length>0)for(var u=0;u<n.length;u++){var c=n[u];c.length>0&&L(C.ACTION,c)}this.reset(t)}};var S=function(t,e){this._action=t,this._data=e};S.prototype.test=function(t){return this._action===t},S.prototype.start=function(){return this._action.start(this._data)},S.prototype.end=function(){return this._action.end(this._data)};var P=new R,x=function(){},k={debugger:{configurable:!0},isActive:{configurable:!0}};k.debugger.get=function(){return window._oEa},k.isActive.get=function(){return!!this.debugger&&"1"===this.debugger._dbg},k.isActive.set=function(t){this.debugger&&this.isActive!==t&&this.debugger.debug(t?1:0)},Object.defineProperties(x.prototype,k);var I=new x,U={CONNECTED:{id:"connected",value:"connecté",isConnected:!0,isDefault:!0},ANONYMOUS:{id:"anonymous",value:"anonyme",isConnected:!1,isDefault:!0},GUEST:{id:"guest",value:"invité",isConnected:!1}},M={INDIVIDUAL:{id:"individual",value:"part"},PROFESSIONNAL:{id:"professionnal",value:"pro"}},q={"0x0022":"＂","0x0024":"＄","0x0026":"＆","0x0027":"＇","0x002a":"＊","0x002c":"，","0x003c":"＜","0x003e":"＞","0x003f":"？","0x005c":"＼","0x005e":"＾","0x0060":"｀","0x007c":"｜","0x007e":"～"},V=function(t){return t?t=(t=(t=[].concat(t).map(function(t){return q[function(t){var e=t.charCodeAt(0).toString(16);return"0x0000".slice(0,-e.length)+e}(t)]||t}).join("")).replace(/\s+/g," ").replace(/\s/g,"_")).toLowerCase():t},F=function(t,e,i){switch(void 0===i&&(i=!0),!0){case"number"==typeof t:return""+t;case"string"==typeof t:return t;case void 0===t&&i:case null===t&&i:return""}return a.inspector.warn("unexpected value '"+t+"' set at analytics."+e+". Expecting a String"),null},G=function(t,e,i){switch(void 0===i&&(i=!0),!0){case!isNaN(t):return t;case"string"==typeof t&&!isNaN(Number(t)):return Number(t);case void 0===t&&i:case null===t&&i:return-1}return a.inspector.warn("unexpected value '"+t+"' set at analytics."+e+". Expecting a Number"),null},H=function(t,e){switch(!0){case"boolean"==typeof t:return t;case"string"==typeof t&&"true"===t.toLowerCase():case"1"===t:case 1===t:return!0;case"string"==typeof t&&"false"===t.toLowerCase():case"0"===t:case 0===t:return!1;case void 0===t:case null===t:return t}return a.inspector.warn("unexpected value '"+t+"' set at analytics."+e+". Expecting a Boolean"),null},z=function(t,e,i){switch(void 0===i&&(i=!0),!0){case"string"==typeof t&&/^[A-Za-z]{2}$|^[A-Za-z]{2}[-_]/.test(t):return t.split(/[-_]/)[0].toLowerCase();case void 0===t&&i:case null===t&&i:return""}return a.inspector.warn("unexpected value '"+t+"' set at analytics."+e+". Expecting language as a String following ISO 639-1 format"),null},B=function(t,e,i){switch(void 0===i&&(i=!0),!0){case"string"==typeof t:return/^FR-[A-Z0-9]{2,3}$/.test(t)||a.inspector.warn("value '"+t+"' set at analytics."+e+" with wrong format. Geographic location should be a String following ISO 3166-2:FR format"),t;case void 0===t&&i:case null===t&&i:return""}return a.inspector.warn("unexpected value '"+t+"' set at analytics."+e+". Expecting geographic location as a String following ISO 3166-2:FR format"),null},Z=function(t){return t.toISOString().split("T")[0]},$=function(t){this._config=t||{}},J={uid:{configurable:!0},email:{configurable:!0},isNew:{configurable:!0},status:{configurable:!0},profile:{configurable:!0},language:{configurable:!0},type:{configurable:!0},layer:{configurable:!0}};$.prototype.reset=function(t){void 0===t&&(t=!1),this._isConnected=!1,this.status=U.ANONYMOUS,!t&&this._config.connect?this.connect(this._config.connect.uid,this._config.connect.email,this._config.connect.isNew):(this._uid=void 0,this._email=void 0,this._isNew=!1),this.profile=t?void 0:this._config.profile,this.language=t?void 0:this._config.language,this.type=t?void 0:this._config.type},$.prototype.connect=function(t,e,i){void 0===i&&(i=!1),this._uid=F(t,"user.uid"),/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]{2,}@[a-zA-Z0-9-]{2,}\.[a-zA-Z]{2,}$/.test(e)&&a.inspector.warn("Please check analytics.user.email is properly encrypted "),this._email=F(e,"user.email"),this._isNew=H(i),this._isConnected=!0,this.status=U.CONNECTED},J.uid.get=function(){return this._uid},J.email.get=function(){return this._email},J.isNew.get=function(){return this._isNew},J.status.set=function(t){var e=this,i=Object.values(U).filter(function(t){return t.isConnected===e._isConnected});this._status=i.filter(function(e){return e.id===t||e.value===t})[0]||i.filter(function(t){return t.isDefault})[0]},J.status.get=function(){return this._status.id},J.profile.set=function(t){var e=F(t,"user.profile");null!==e&&(this._profile=e)},J.profile.get=function(){return this._profile.id},J.language.set=function(t){var e=z(t,"user.language");null!==e&&(this._language=e)},J.language.get=function(){return this._language||navigator.language},J.type.set=function(t){this._type=Object.values(M).filter(function(e){return e.id===t||e.value===t})[0]},J.type.get=function(){return this._type.id},J.layer.get=function(){var t=[];return this.uid&&t.push("uid",V(this.uid)),this.email&&t.push("email",V(this.email)),this.isNew&&t.push("newcustomer","1"),this.language&&t.push("user_language",this.language),t.push("user_login_status",this._status.value),this._profile&&t.push("profile",this._profile),this._type&&t.push("user_type",this._type.value),t},Object.defineProperties($.prototype,J),$.Status=U,$.Type=M;var W={DEVELOPMENT:{id:"development",value:"dev"},STAGE:{id:"stage",value:"stage"},PRODUCTION:{id:"production",value:"prod"}},Y=function(t){this._config=t||{}},K={environment:{configurable:!0},entity:{configurable:!0},language:{configurable:!0},target:{configurable:!0},type:{configurable:!0},region:{configurable:!0},department:{configurable:!0},version:{configurable:!0},api:{configurable:!0},layer:{configurable:!0}};Y.prototype.reset=function(t){void 0===t&&(t=!1),this.environment=t?W.DEVELOPMENT.id:this._config.environment,this.entity=t?void 0:this._config.entity,this.language=t?void 0:this._config.language,this.target=t?void 0:this._config.target,this.type=t?void 0:this._config.type,this.region=t?void 0:this._config.region,this.department=t?void 0:this._config.department,this.version=t?void 0:this._config.version,this._api=a.version},K.environment.set=function(t){switch(t){case W.PRODUCTION.id:case W.PRODUCTION.value:this._environment=W.PRODUCTION;break;case W.STAGE.id:case W.STAGE.value:this._environment=W.STAGE;break;case W.DEVELOPMENT.id:case W.DEVELOPMENT.value:default:this._environment=W.DEVELOPMENT}},K.environment.get=function(){return this._environment?this._environment.id:W.DEVELOPMENT.id},K.entity.set=function(t){var e=F(t,"site.entity");null!==e&&(this._entity=e)},K.entity.get=function(){return this._entity},K.language.set=function(t){var e=z(t,"site.language");null!==e&&(this._language=e)},K.language.get=function(){return this._language||document.documentElement.lang},K.target.set=function(t){var e=F(t,"site.target");null!==e&&(this._target=e)},K.target.get=function(){return this._target},K.type.set=function(t){var e=F(t,"site.type");null!==e&&(this._type=e)},K.type.get=function(){return this._type},K.region.set=function(t){var e=B(t,"site.region");null!==e&&(this._region=e)},K.region.get=function(){return this._region},K.department.set=function(t){var e=B(t,"site.department");null!==e&&(this._department=e)},K.department.get=function(){return this._department},K.version.set=function(t){var e=F(t,"site.version");null!==e&&(this._version=e)},K.version.get=function(){return this._version},K.api.get=function(){return this._api},K.layer.get=function(){var t=[];return t.push("site_environment",this._environment.value),this.entity?t.push("site_entity",V(this.entity)):a.inspector.warn("entity is required in analytics.site"),this.language&&t.push("site_language",this.language),this.target&&t.push("site_target",V(this.target)),this.type&&t.push("site_type",V(this.type)),this.region&&t.push("site_region",this.region),this.department&&t.push("site_department",this.department),this.version&&t.push("site_version",this.version),this.api&&t.push("api_version",this.api),t},Object.defineProperties(Y.prototype,K),Y.Environment=W;var Q={accordion:a.internals.ns.selector("accordion"),alert:a.internals.ns.selector("alert"),badge:a.internals.ns.selector("badge"),breadcrumb:a.internals.ns.selector("breadcrumb"),button:a.internals.ns.selector("btn"),callout:a.internals.ns.selector("callout"),card:a.internals.ns.selector("card"),checkbox:a.internals.ns.selector("checkbox-group"),connect:a.internals.ns.selector("connect"),consent:a.internals.ns.selector("consent-banner"),content:a.internals.ns.selector("content-media"),download:a.internals.ns.selector("download"),follow:a.internals.ns.selector("follow"),footer:a.internals.ns.selector("footer"),header:a.internals.ns.selector("header"),highlight:a.internals.ns.selector("highlight"),input:a.internals.ns.selector("input-group"),link:a.internals.ns.selector("link"),modal:a.internals.ns.selector("modal"),navigation:a.internals.ns.selector("nav"),notice:a.internals.ns.selector("notice"),pagination:a.internals.ns.selector("pagination"),quote:a.internals.ns.selector("quote"),radio:a.internals.ns.selector("radio-group"),search:a.internals.ns.selector("search-bar"),select:a.internals.ns.selector("select"),share:a.internals.ns.selector("share"),sidemenu:a.internals.ns.selector("sidemenu"),stepper:a.internals.ns.selector("stepper"),summary:a.internals.ns.selector("summary"),tab:a.internals.ns.selector("tabs"),table:a.internals.ns.selector("table"),tag:a.internals.ns.selector("tag"),tile:a.internals.ns.selector("tile"),toggle:a.internals.ns.selector("toggle"),tooltip:a.internals.ns.selector("tooltip"),transcription:a.internals.ns.selector("transcription"),translate:a.internals.ns.selector("translate"),upload:a.internals.ns.selector("upload-group")},X="collectable",tt="collecting",et="collected",it=function(t){this._config=t||{},this._state=X},nt={isCollecting:{configurable:!0},path:{configurable:!0},referrer:{configurable:!0},title:{configurable:!0},id:{configurable:!0},author:{configurable:!0},date:{configurable:!0},tags:{configurable:!0},name:{configurable:!0},labels:{configurable:!0},categories:{configurable:!0},isError:{configurable:!0},template:{configurable:!0},segment:{configurable:!0},group:{configurable:!0},subtemplate:{configurable:!0},theme:{configurable:!0},subtheme:{configurable:!0},related:{configurable:!0},depth:{configurable:!0},current:{configurable:!0},total:{configurable:!0},filters:{configurable:!0},layer:{configurable:!0}};it.prototype.reset=function(t){void 0===t&&(t=!1),this.path=t?"":this._config.path,this.referrer=t?"":this._config.referrer,this.title=t?"":this._config.title,this.name=t?"":this._config.name,this.id=t?"":this._config.id,this.author=t?"":this._config.author,this.date=t?"":this._config.date,this._labels=t||!this._config.labels?["","","","",""]:this._config.labels,this._labels.length=5,this._tags=t||!this._config.tags?[]:this._config.tags,this._categories=t||!this._config.categories?["","",""]:this._config.categories,this.isError=!t&&this._config.isError,this.template=t?"":this._config.template,this.group=t?"":this._config.group,this.segment=t?"":this._config.segment,this.subtemplate=t?"":this._config.subtemplate,this.theme=t?"":this._config.theme,this.subtheme=t?"":this._config.subtheme,this.related=t?"":this._config.related,this.depth=t||isNaN(this._config.depth)?0:this._config.depth,this.current=t||isNaN(this._config.current)?-1:this._config.current,this.total=t||isNaN(this._config.total)?-1:this._config.total,this._filters=t||!this._config.filters?[]:this._config.filters},it.prototype.collecting=function(){return this._state!==X?(a.inspector.warn("current path '"+this.path+"' was already collected"),!1):(this._state=tt,!0)},nt.isCollecting.get=function(){return this._state===tt},nt.path.set=function(t){var e=F(t,"page.path");null!==e&&(this._path=e,this._state=X)},nt.path.get=function(){return this._path||""+document.location.pathname+document.location.search},nt.referrer.set=function(t){var e=F(t,"page.referrer");null!==e&&(this._referrer=e)},nt.referrer.get=function(){return this._referrer},nt.title.set=function(t){var e=F(t,"page.title");null!==e&&(this._title=e)},nt.title.get=function(){return this._title||document.title},nt.id.set=function(t){var e=F(t,"page.id");null!==e&&(this._id=e)},nt.id.get=function(){return this._id},nt.author.set=function(t){var e=F(t,"page.author");null!==e&&(this._author=e)},nt.author.get=function(){return this._author},nt.date.set=function(t){var e=function(t,e,i){switch(void 0===i&&(i=!0),!0){case t instanceof Date:return Z(t);case"string"==typeof t:var n=new Date(t);if("Invalid Date"!==n.toString())return Z(n);break;case void 0===t&&i:case null===t&&i:return null}return a.inspector.warn("unexpected value '"+t+"' set at analytics."+e+". Expecting a Date"),null}(t,"page.date");null!==e&&(this._date=e)},nt.date.get=function(){return this._date},nt.tags.get=function(){return this._tags},nt.name.set=function(t){var e=F(t,"page.name");null!==e&&(this._name=e)},nt.name.get=function(){return this._name||this.title},nt.labels.get=function(){return this._labels},nt.categories.get=function(){return this._categories},nt.isError.set=function(t){var e=H(t,"page.isError");null!==e&&(this._isError=e)},nt.isError.get=function(){return this._isError},nt.template.set=function(t){var e=F(t,"page.template");null!==e&&(this._template=e)},nt.template.get=function(){return this._template||"autres"},nt.segment.set=function(t){var e=F(t,"page.segment");null!==e&&(this._segment=e)},nt.segment.get=function(){return this._segment||this.template},nt.group.set=function(t){var e=F(t,"page.group");null!==e&&(this._group=e)},nt.group.get=function(){return this._group||this.template},nt.subtemplate.set=function(t){var e=F(t,"page.subtemplate");null!==e&&(this._subtemplate=e)},nt.subtemplate.get=function(){return this._subtemplate},nt.theme.set=function(t){var e=F(t,"page.theme");null!==e&&(this._theme=e)},nt.theme.get=function(){return this._theme},nt.subtheme.set=function(t){var e=F(t,"page.subtheme");null!==e&&(this._subtheme=e)},nt.subtheme.get=function(){return this._subtheme},nt.related.set=function(t){var e=F(t,"page.related");null!==e&&(this._related=e)},nt.related.get=function(){return this._related},nt.depth.set=function(t){var e=G(t,"page.depth");null!==e&&(this._depth=e)},nt.depth.get=function(){return this._depth},nt.current.set=function(t){var e=G(t,"page.current");null!==e&&(this._current=e)},nt.current.get=function(){return this._current},nt.total.set=function(t){var e=G(t,"page.total");null!==e&&(this._total=e)},nt.total.get=function(){return this._total},nt.filters.get=function(){return this._filters},nt.layer.get=function(){this._state=et;var t=[];this.path&&t.push("path",V(this.path)),this.referrer&&t.push("referrer",V(this.referrer)),this.title&&t.push("page_title",V(this.title)),this.name&&t.push("page_name",V(this.name)),this.id&&t.push("page_id",V(this.id)),this.author&&t.push("page_author",V(this.author)),this.date&&t.push("page_date",V(this.date));var e=Object.keys(Q).map(function(t){return null!==document.querySelector(Q[t])?t:null}).filter(function(t){return null!==t}).join(",");e&&t.push("page_components",e);var i=this._labels.slice(0,5);i.length=5,i.some(function(t){return t})&&t.push("pagelabel",i.map(function(t){return"string"==typeof t?V(t):""}).join(","));var n=this._tags;if(n.some(function(t){return t})&&t.push("pagetag",n.map(function(t){return"string"==typeof t?V(t):""}).join(",")),this._categories.forEach(function(e,i){e&&t.push("page_category"+(i+1),e)}),this._isError&&t.push("error","1"),t.push("page_template",V(this.template)),t.push("pagegroup",V(this.group)),t.push("site-segment",V(this.segment)),this.subtemplate&&t.push("page_subtemplate",V(this.subtemplate)),this.theme&&t.push("page_theme",V(this.theme)),this.subtheme&&t.push("page_subtheme",V(this.subtheme)),this.related&&t.push("page_related",V(this.related)),isNaN(this.depth)||t.push("page_depth",this.depth),!isNaN(this.current)&&this.current>-1){var s=""+this.current;!isNaN(this.total)&&this.total>-1&&(s+="/"+this.total),t.push("page_pagination",s)}if(this.filters.length&&this.filters.some(function(t){return t})){var r=this.filters.map(function(t){return"string"==typeof t?V(t):""});t.push("page_filters",r.join(","))}return t},Object.defineProperties(it.prototype,nt);var st={STANDARD:{id:"standard",value:"standard",isDefault:!0},AUTOCOMPLETE:{id:"autocomplete",value:"autocompletion"}},rt=function(t){this._config=t||{}},ot={engine:{configurable:!0},results:{configurable:!0},terms:{configurable:!0},category:{configurable:!0},theme:{configurable:!0},type:{configurable:!0},method:{configurable:!0},layer:{configurable:!0}};rt.prototype.reset=function(t){void 0===t&&(t=!1),this.engine=t?void 0:this._config.engine,this.results=t||isNaN(this._config.results)?-1:this._config.results,this.terms=t?void 0:this._config.terms,this.category=t?void 0:this._config.category,this.theme=t?void 0:this._config.theme,this.type=t?void 0:this._config.type,this.method=t?void 0:this._config.method},ot.engine.set=function(t){var e=F(t,"search.engine");null!==e&&(this._engine=e)},ot.engine.get=function(){return this._engine},ot.results.set=function(t){var e=G(t,"search.results");null!==e&&(this._results=e)},ot.results.get=function(){return this._results},ot.terms.set=function(t){var e=F(t,"search.terms");null!==e&&(this._terms=e)},ot.terms.get=function(){return this._terms},ot.category.set=function(t){var e=F(t,"search.category");null!==e&&(this._category=e)},ot.category.get=function(){return this._category},ot.theme.set=function(t){var e=F(t,"search.theme");null!==e&&(this._theme=e)},ot.theme.get=function(){return this._theme},ot.type.set=function(t){var e=F(t,"search.type");null!==e&&(this._type=e),this._type=t},ot.type.get=function(){return this._type},ot.method.set=function(t){var e=Object.values(st);this._method=e.filter(function(e){return e.id===t||e.value===t})[0]||e.filter(function(t){return t.isDefault})[0]},ot.method.get=function(){return this._method},ot.layer.get=function(){var t=[];return this.engine&&t.push("isearchengine",V(this.engine)),this.results>-1&&t.push("isearchresults",this.results),this.terms&&t.push("isearchkey","search_terms","isearchdata",V(this.terms)),this.category&&t.push("isearchkey","search_category","isearchdata",V(this.category)),this.theme&&t.push("isearchkey","search_theme","isearchdata",V(this.theme)),this.type&&t.push("isearchkey","search_type","isearchdata",V(this.type)),this._method&&t.length&&t.push("isearchkey","search_method","isearchdata",this._method.value),t},Object.defineProperties(rt.prototype,ot),rt.Method=st;var at=function(t){this._config=t||{}},ut={id:{configurable:!0},type:{configurable:!0},name:{configurable:!0},step:{configurable:!0},current:{configurable:!0},total:{configurable:!0},objective:{configurable:!0},error:{configurable:!0},layer:{configurable:!0}};at.prototype.reset=function(t){void 0===t&&(t=!1),this.id=t?void 0:this._config.id,this.type=t?void 0:this._config.type,this.name=t?void 0:this._config.name,this.step=t?void 0:this._config.step,this.current=t||isNaN(this._config.current)?-1:this._config.current,this.total=t||isNaN(this._config.total)?-1:this._config.total,this.objective=t?void 0:this._config.objective,this.error=t?void 0:this._config.error},ut.id.set=function(t){var e=F(t,"funnel.id");null!==e&&(this._id=e)},ut.id.get=function(){return this._id},ut.type.set=function(t){var e=F(t,"funnel.type");null!==e&&(this._type=e)},ut.type.get=function(){return this._type},ut.name.set=function(t){var e=F(t,"funnel.name");null!==e&&(this._name=e)},ut.name.get=function(){return this._name},ut.step.set=function(t){var e=F(t,"funnel.step");null!==e&&(this._step=e)},ut.step.get=function(){return this._step},ut.current.set=function(t){var e=G(t,"funnel.current");null!==e&&(this._current=e)},ut.current.get=function(){return this._current},ut.total.set=function(t){var e=G(t,"funnel.total");null!==e&&(this._total=e)},ut.total.get=function(){return this._total},ut.objective.set=function(t){var e=F(t,"funnel.objective");null!==e&&(this._objective=e),this._objective=t},ut.objective.get=function(){return this._objective},ut.error.set=function(t){var e=F(t,"funnel.error");null!==e&&(this._error=e),this._error=t},ut.error.get=function(){return this._error},ut.layer.get=function(){var t=[];return this.id&&t.push("funnel_id",V(this.id)),this.type&&t.push("funnel_type",V(this.type)),this.name&&t.push("funnel_name",V(this.name)),this.step&&t.push("funnel_step_name",V(this.step)),!isNaN(this.current)&&this.current>-1&&t.push("funnel_step_number",this.current),!isNaN(this.total)&&this.total>-1&&t.push("funnel_step_max",this.total),this.objective&&t.push("funnel_objective",V(this.objective)),this.error&&t.push("funnel_error",V(this.error)),t},Object.defineProperties(at.prototype,ut);var ct={IN:"in",OUT:"out",NONE:"none"},lt={id:"unstarted",value:-1},ht={id:"started",value:1},ft={id:"singular",value:2},gt={id:"ended",value:3},pt=function(t){return Object.entries(t).map(function(t){var e=t[0],i=t[1];return["actionpname",V(e),"actionpvalue",V(i)]}).flat()},dt=function(t){this._isMuted=!1,this._regulation=T.NONE,this._name=t,this._status=lt,this._labels=[],this._parameters={},this._sentData=[]},_t={isMuted:{configurable:!0},regulation:{configurable:!0},isSingular:{configurable:!0},status:{configurable:!0},name:{configurable:!0},labels:{configurable:!0},reference:{configurable:!0},parameters:{configurable:!0},mode:{configurable:!0},_base:{configurable:!0}};_t.isMuted.get=function(){return this._isMuted},_t.isMuted.set=function(t){this._isMuted=t},_t.regulation.get=function(){return this._regulation},_t.regulation.set=function(t){Object.values(T).includes(t)&&(this._regulation=t)},_t.isSingular.get=function(){return this._status===ft},_t.status.get=function(){return this._status},_t.name.get=function(){return this._name},_t.labels.get=function(){return this._labels},_t.reference.get=function(){return this._reference},_t.parameters.get=function(){return this._parameters},_t.mode.get=function(){return this._mode},dt.prototype.singularize=function(){this._status=ft},dt.prototype.rewind=function(){this._sentData=[],this._status=lt},dt.prototype.addParameter=function(t,e){this._parameters[t]=e},dt.prototype.removeParameter=function(t){delete this._parameters[t]},_t.reference.set=function(t){var e=F(t,"action "+this._name);null!==e&&(this._reference=e)},_t._base.get=function(){return["actionname",this._name]},dt.prototype._getLayer=function(t){if(void 0===t&&(t={}),this._isMuted)return[];this._mode!==ct.IN&&this._sentData.push(JSON.stringify(t));var e=this._base;switch(this._mode){case ct.IN:case ct.OUT:e.push("actionmode",this._mode)}var i=this._labels.slice(0,5);return i.length=5,i.some(function(t){return t})&&e.push("actionlabel",i.map(function(t){return"string"==typeof t?V(t):""}).join(",")),this._reference&&e.push("actionref",this._reference),e.push.apply(e,pt(Object.assign(this._parameters,t||{}))),e},dt.prototype.start=function(t){switch(this._status){case lt:this._mode=ct.IN,this._status=ht;break;case ft:this._mode=ct.NONE,this._status=gt;break;default:return a.inspector.error("unexpected start on action "+this._name+" with status "+this._status.id),[]}return this._getLayer(t)},dt.prototype.end=function(t){switch(this._status){case ht:this._mode=ct.OUT,this._status=gt;break;case lt:case ft:this._mode=ct.NONE,this._status=gt;break;case gt:if(this._sentData.includes(JSON.stringify(t)))return[];this._mode=ct.NONE,this._status=gt;break;default:return[]}return this._getLayer(t)},dt.prototype.resume=function(t){if(this._isMuted)return[];if(this._status.value>=gt.value)return a.inspector.error("unexpected resuming on action "+this._name+" with status "+this._status.id),[];var e=this._base;return t&&e.push.apply(e,pt(t)),e},Object.defineProperties(dt.prototype,_t);var mt=function(){this._actions=[]};mt.prototype.rewind=function(){this._actions.forEach(function(t){return t.rewind()})},mt.prototype.getAction=function(t){var e=this._actions.filter(function(e){return e.name===t})[0];return e||(e=new dt(t),this._actions.push(e)),e},mt.prototype.hasAction=function(t){return this._actions.some(function(e){return e.name===t})},mt.prototype.remove=function(t){var e=this._actions.indexOf(t);return-1!==e&&(this._actions.splice(e,1),!0)},mt.ActionMode=ct;var vt=new mt;mt.instance=vt;var bt=function(t,e){void 0===e&&(e=!1),this._onRouteChange=t,this._isListeningHash=e,this._update(),D.add(this)},yt={path:{configurable:!0},hasTitle:{configurable:!0},title:{configurable:!0},referrer:{configurable:!0}};bt.prototype._update=function(){this._pathname=document.location.pathname,this._search=document.location.search,this._hash=document.location.hash,this._path=""+this._pathname+this._search,this._isListeningHash&&(this._path+=this._hash),this._hasTitle=this._title===document.title,this._title=document.title},bt.prototype.render=function(){this._pathname===document.location.pathname&&this._search===document.location.search||this.change(),this._isListeningHash&&this._hash!==document.location.hash&&this.change()},bt.prototype.change=function(){this._referrer=this._path,this._update(),this._onRouteChange()},yt.path.get=function(){return this._path},yt.hasTitle.get=function(){return this._hasTitle},yt.title.get=function(){return this._title},yt.referrer.get=function(){return this._referrer},Object.defineProperties(bt.prototype,yt);var Et={COLLECT:a.internals.ns.event("collect")},wt={REWIND:a.internals.ns.emission("analytics","rewind")},At={ENABLE:{entries:["enable","enabled","true","yes","1",!0],value:!0,output:!0},DISABLE:{entries:["disable","disabled","false","no","0",!1],value:!1,output:!1},REDUCE:{entries:["reduce"],value:"reduce",output:!1}},Nt=function(t){switch(t.collection){case c.MANUAL:case c.LOAD:case c.FULL:case c.HASH:this._collection=t.collection;break;default:if(t.mode&&"manual"===t.mode)this._collection=t.collection;switch(!0){case"manual"===t.mode:this._collection=c.MANUAL;break;case a.mode===a.Modes.ANGULAR:case a.mode===a.Modes.REACT:case a.mode===a.Modes.VUE:this._collection=c.FULL;break;default:this._collection=c.LOAD}}this.isActionEnabled=t.isActionEnabled,this._user=new $(t.user),this._site=new Y(t.site),this._page=new it(t.page),this._search=new rt(t.search),this._funnel=new at(t.funnel),this._delay=-1,P.setCollector(this)},Ot={page:{configurable:!0},user:{configurable:!0},site:{configurable:!0},search:{configurable:!0},funnel:{configurable:!0},collection:{configurable:!0},isCollecting:{configurable:!0},isActionEnabled:{configurable:!0},isActionReduced:{configurable:!0},layer:{configurable:!0}};Ot.page.get=function(){return this._page},Ot.user.get=function(){return this._user},Ot.site.get=function(){return this._site},Ot.search.get=function(){return this._search},Ot.funnel.get=function(){return this._funnel},Nt.prototype.start=function(){var t=this._handleRouteChange.bind(this);switch(this._collection){case c.LOAD:this.collect();break;case c.FULL:this.collect(),this._location=new bt(t);break;case c.HASH:this.collect(),this._location=new bt(t,!0)}},Nt.prototype._handleRouteChange=function(){P.send(!0),this._delay=6,D.add(this)},Nt.prototype.render=function(){this._delay--,this._delay<0&&(D.remove(this),this._routeChanged())},Nt.prototype._routeChanged=function(){vt.rewind(),this._page.referrer=this._location.referrer,this._location.hasTitle&&(this._page.title=this._location.title),this._page.path=this._location.path;var t=new CustomEvent(Et.COLLECT);document.documentElement.dispatchEvent(t),this.collect(),a.internals&&a.internals.stage&&a.internals.stage.root&&a.internals.stage.root.descend(wt.REWIND)},Nt.prototype.reset=function(t){void 0===t&&(t=!1),this._user.reset(t),this._site.reset(t),this._page.reset(t),this._search.reset(t),this._funnel.reset(t)},Nt.prototype.collect=function(){this.page.collecting()&&P.collect()},Ot.collection.get=function(){return this._collection},Ot.isCollecting.get=function(){return this._page.isCollecting},Ot.isActionEnabled.get=function(){return this._isActionEnabled.value},Ot.isActionEnabled.set=function(t){this._isActionEnabled=Object.values(At).find(function(e){return e.entries.includes(t)})||At.DISABLE},Ot.isActionReduced.get=function(){return this._isActionEnabled===At.REDUCE},Ot.layer.get=function(){return this._user.layer.concat(this._site.layer,this._page.layer,this._search.layer,this._funnel.layer)},Object.defineProperties(Nt.prototype,Ot);var Lt=function(){var t=this;this._isReady=!1,this._readiness=new Promise(function(e,i){t._isReady?e():(t._resolve=e,t._reject=i)}),this._configure()},Ct={isReady:{configurable:!0},readiness:{configurable:!0},page:{configurable:!0},user:{configurable:!0},site:{configurable:!0},search:{configurable:!0},funnel:{configurable:!0},cmp:{configurable:!0},opt:{configurable:!0},collection:{configurable:!0},isActionEnabled:{configurable:!0},isDebugging:{configurable:!0}};Lt.prototype._configure=function(){switch(!0){case void 0!==window[u]:this._config=window[u].configuration.analytics,window[u].promise.then(this._build.bind(this),function(){});break;case void 0!==a.internals&&void 0!==a.internals.configuration&&void 0!==a.internals.configuration.analytics&&void 0!==a.internals.configuration.analytics.domain:this._config=a.internals.configuration.analytics,this._build();break;case void 0!==a.analytics&&void 0!==a.analytics.domain:this._config=a.analytics,this._build();break;default:a.inspector.warn("analytics configuration is incorrect or missing (required : domain)")}},Lt.prototype._build=function(){var t=this;this._init=new m(this._config.domain),this._init.configure().then(this._start.bind(this),function(e){return t._reject(e)})},Ct.isReady.get=function(){return this._isReady},Ct.readiness.get=function(){return this._readiness},Lt.prototype._start=function(){this._isReady||(this._cmp=new O(this._config.cmp),this._collector=new Nt(this._config),this._collector.reset(),this._isReady=!0,this._resolve(),P.start(),this._collector.start())},Ct.page.get=function(){return this._collector.page},Ct.user.get=function(){return this._collector.user},Ct.site.get=function(){return this._collector._site},Ct.search.get=function(){return this._collector.search},Ct.funnel.get=function(){return this._collector.funnel},Ct.cmp.get=function(){return this._cmp},Ct.opt.get=function(){return d},Ct.collection.get=function(){return this._collector.collection},Ct.isActionEnabled.get=function(){return this._collector.isActionEnabled},Ct.isActionEnabled.set=function(t){this._collector.isActionEnabled=t},Ct.isDebugging.get=function(){return I.isActive},Ct.isDebugging.set=function(t){I.isActive=t},Lt.prototype.push=function(t,e){L(t,e)},Lt.prototype.reset=function(t){this._collector.reset()},Lt.prototype.collect=function(){this._collector.collect()},Object.defineProperties(Lt.prototype,Ct);var jt=new Lt;jt.Collection=c,jt.PushType=C,s.analytics=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return e.forEach(function(e){var i=Object.keys(e).reduce(function(t,i){return t[i]=Object.getOwnPropertyDescriptor(e,i),t},{});Object.getOwnPropertySymbols(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable&&(i[t]=n)}),Object.defineProperties(t,i)}),t}(jt,{})}();
